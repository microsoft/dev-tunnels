steps:
  # Install dotnet SDK as configured in /global.json
  - task: UseDotNet@2
    inputs:
      packageType: 'sdk'
      workingDirectory: '$(Build.SourcesDirectory)/csharp'
      performMultiLevelLookup: true
      useGlobalJson: true

  # NuGet Authenticate
  - task: NuGetAuthenticate@0
    displayName: 'NuGet Authenticate'

    # Restore, Build the solution
  - task: CmdLine@2
    displayName: 'Build Solution'
    inputs:
      script: '$(Build.SourcesDirectory)/csharp/build/build.sh'
      workingDirectory: '$(Build.SourcesDirectory)/csharp'